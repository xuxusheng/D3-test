<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="http://d3js.org/d3.v3.min.js"></script>
</head>
<body>
<script>

    // 画布的宽度
    var width = 300;
    // 画布的高度
    var height = 300;

    var svg = d3.select("body").append("svg").attr("width", width).attr("height", height)

    var data = [2.5, 2.1, 1.7, 1.3, 0.9, 3.0]

    var linear = d3.scale.linear()
            .domain([0, d3.max(data)])
            .range([0, 250]);

    var rectHeight = 25; // 每个矩形所占的高度（包括空白）
    svg.selectAll('rect')
            .data(data)
            .enter()
            .append('rect')
            .attr('x', 20)
            .attr('y', function(d, i) {
                return i * rectHeight
            })
            .attr('height', rectHeight - 2)
            .attr('width', function(d) {
                return linear(d) // 在这里用比例尺
            })
            .attr('fill', 'steelblue')

    // 如此一来，所有的数值，都按照同一个线性比例尺的关系来计算宽度，因此数值之间的大小关系不变。
</script>
</body>
</html>